import{Z as te,E as L,H as D,$ as Q,R as ne,A as O,n as R,K as H,a0 as oe,j as z,r as Z,k as m,l as $,i as p,T as ae,a1 as ie,g as G,a2 as U,O as re,D as J,h as ee,a3 as le}from"./main-CfcVBvI2.js";import{g as ue,h as K,v as se,b as ce,Q as j,d as ve}from"./QBtn-DOcw1rK6.js";import{s as X,p as de,t as Y,q as fe,u as me,l as pe}from"./ThemeSwitch.vue_vue_type_script_setup_true_lang-P1oUOoG2.js";function ge(e){const t=[.06,6,50];return"string"==typeof e&&e.length&&e.split(":").forEach(((e,n)=>{const o=parseFloat(e);o&&(t[n]=o)})),t}const he=te({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:o}){if(!0!==o.mouse&&!0!==D.has.touch)return;const a=!0===o.mouseCapture?"Capture":"",l={handler:t,sensitivity:ge(n),direction:X(o),noop:ne,mouseStart(e){Y(e,l)&&oe(e)&&(O(l,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(e,!0))},touchStart(e){if(Y(e,l)){const t=e.target;O(l,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","notPassiveCapture"],[t,"touchend","end","notPassiveCapture"]]),l.start(e)}},start(t,n){!0===D.is.firefox&&Q(e,!0);const o=H(t);l.event={x:o.left,y:o.top,time:Date.now(),mouse:!0===n,dir:!1}},move(e){if(void 0===l.event)return;if(!1!==l.event.dir)return void R(e);const t=Date.now()-l.event.time;if(0===t)return;const n=H(e),o=n.left-l.event.x,a=Math.abs(o),i=n.top-l.event.y,r=Math.abs(i);if(!0!==l.event.mouse){if(a<l.sensitivity[1]&&r<l.sensitivity[1])return void l.end(e)}else{if(""!==window.getSelection().toString())return void l.end(e);if(a<l.sensitivity[2]&&r<l.sensitivity[2])return}const s=a/t,u=r/t;!0===l.direction.vertical&&a<r&&a<100&&u>l.sensitivity[0]&&(l.event.dir=i<0?"up":"down"),!0===l.direction.horizontal&&a>r&&r<100&&s>l.sensitivity[0]&&(l.event.dir=o<0?"left":"right"),!0===l.direction.up&&a<r&&i<0&&a<100&&u>l.sensitivity[0]&&(l.event.dir="up"),!0===l.direction.down&&a<r&&i>0&&a<100&&u>l.sensitivity[0]&&(l.event.dir="down"),!0===l.direction.left&&a>r&&o<0&&r<100&&s>l.sensitivity[0]&&(l.event.dir="left"),!0===l.direction.right&&a>r&&o>0&&r<100&&s>l.sensitivity[0]&&(l.event.dir="right"),!1!==l.event.dir?(R(e),!0===l.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),de(),l.styleCleanup=e=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const t=()=>{document.body.classList.remove("no-pointer-events--children")};!0===e?setTimeout(t,50):t()}),l.handler({evt:e,touch:!0!==l.event.mouse,mouse:l.event.mouse,direction:l.event.dir,duration:t,distance:{x:a,y:r}})):l.end(e)},end(t){var n;void 0!==l.event&&(L(l,"temp"),!0===D.is.firefox&&Q(e,!1),null==(n=l.styleCleanup)||n.call(l,!0),void 0!==t&&!1!==l.event.dir&&R(t),l.event=void 0)}};if(e.__qtouchswipe=l,!0===o.mouse){const t=!0===o.mouseCapture||!0===o.mousecapture?"Capture":"";O(l,"main",[[e,"mousedown","mouseStart",`passive${t}`]])}!0===D.has.touch&&O(l,"main",[[e,"touchstart","touchStart","passive"+(!0===o.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;void 0!==n&&(t.oldValue!==t.value&&("function"!=typeof t.value&&n.end(),n.handler=t.value),n.direction=X(t.modifiers))},beforeUnmount(e){var t;const n=e.__qtouchswipe;void 0!==n&&(L(n,"main"),L(n,"temp"),!0===D.is.firefox&&Q(e,!1),null==(t=n.styleCleanup)||t.call(n),delete e.__qtouchswipe)}});function ye(){let e=Object.create(null);return{getCache:(t,n)=>void 0===e[t]?e[t]="function"==typeof n?n():n:e[t],setCache(t,n){e[t]=n},hasCache:t=>Object.hasOwnProperty.call(e,t),clearCache(t){void 0!==t?delete e[t]:e=Object.create(null)}}}const be={name:{required:!0},disable:Boolean},W={setup:(e,{slots:t})=>()=>p("div",{class:"q-panel scroll",role:"tabpanel"},K(t.default))},xe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ce=["update:modelValue","beforeTransition","transition"];function Pe(){const{props:e,emit:t,proxy:n}=z(),{getCache:o}=ye(),{registerTimeout:a}=fe();let l,i;const r=Z(null),s={value:null};function u(t){const o=!0===e.vertical?"up":"left";P((!0===n.$q.lang.rtl?-1:1)*(t.direction===o?1:-1))}const c=m((()=>[[he,u,void 0,{horizontal:!0!==e.vertical,vertical:e.vertical,mouse:!0}]])),v=m((()=>e.transitionPrev||"slide-"+(!0===e.vertical?"down":"right"))),d=m((()=>e.transitionNext||"slide-"+(!0===e.vertical?"up":"left"))),f=m((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),g=m((()=>"string"==typeof e.modelValue||"number"==typeof e.modelValue?e.modelValue:String(e.modelValue))),h=m((()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax}))),y=m((()=>void 0!==e.keepAliveInclude||void 0!==e.keepAliveExclude));function b(){P(1)}function x(){P(-1)}function _(e){t("update:modelValue",e)}function q(e){return null!=e&&""!==e}function C(e){return l.findIndex((t=>t.props.name===e&&""!==t.props.disable&&!0!==t.props.disable))}function w(t){const n=0!==t&&!0===e.animated&&-1!==s.value?"q-transition--"+(-1===t?v.value:d.value):null;r.value!==n&&(r.value=n)}function P(n,o=s.value){let a=o+n;for(;-1!==a&&a<l.length;){const e=l[a];if(void 0!==e&&""!==e.props.disable&&!0!==e.props.disable)return w(n),i=!0,t("update:modelValue",e.props.name),void setTimeout((()=>{i=!1}));a+=n}!0===e.infinite&&0!==l.length&&-1!==o&&o!==l.length&&P(n,-1===n?l.length:-1)}function S(){const t=C(e.modelValue);return s.value!==t&&(s.value=t),!0}function k(){const t=!0===q(e.modelValue)&&S()&&l[s.value];return!0===e.keepAlive?[p(ie,h.value,[p(!0===y.value?o(g.value,(()=>({...W,name:g.value}))):W,{key:g.value,style:f.value},(()=>t))])]:[p("div",{class:"q-panel scroll",style:f.value,key:g.value,role:"tabpanel"},[t])]}return $((()=>e.modelValue),((n,o)=>{const l=!0===q(n)?C(n):-1;!0!==i&&w(-1===l?0:l<C(o)?-1:1),s.value!==l&&(s.value=l,t("beforeTransition",n,o),a((()=>{t("transition",n,o)}),e.transitionDuration))})),Object.assign(n,{next:b,previous:x,goTo:_}),{panelIndex:s,panelDirectives:c,updatePanelsList:function(e){return l=ue(K(e.default,[])).filter((e=>null!==e.props&&void 0===e.props.slot&&!0===q(e.props.name))),l.length},updatePanelIndex:S,getPanelContent:function(){if(0!==l.length)return!0===e.animated?[p(ae,{name:r.value},k)]:k()},getEnabledPanels:function(){return l.filter((e=>""!==e.props.disable&&!0!==e.props.disable))},getPanels:function(){return l},isValidPanelName:q,keepAliveProps:h,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:P,goToPanel:_,nextPanel:b,previousPanel:x}}const Ae=G({name:"QCarouselSlide",props:{...be,imgSrc:String},setup(e,{slots:t}){const n=m((()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{}));return()=>p("div",{class:"q-carousel__slide",style:n.value},K(t.default))}});let N=0;const _e={fullscreen:Boolean,noRouteFullscreenExit:Boolean},qe=["update:fullscreen","fullscreen"];function Se(){const e=z(),{props:t,emit:n,proxy:o}=e;let a,l,i;const r=Z(!1);function s(){!0===r.value?c():u()}function u(){!0!==r.value&&(r.value=!0,i=o.$el.parentNode,i.replaceChild(l,o.$el),document.body.appendChild(o.$el),N++,1===N&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:c},U.add(a))}function c(){!0===r.value&&(void 0!==a&&(U.remove(a),a=void 0),i.replaceChild(o.$el,l),r.value=!1,N=Math.max(0,N-1),0===N&&(document.body.classList.remove("q-body--fullscreen-mixin"),void 0!==o.$el.scrollIntoView&&setTimeout((()=>{o.$el.scrollIntoView()}))))}return!0===se(e)&&$((()=>o.$route.fullPath),(()=>{!0!==t.noRouteFullscreenExit&&c()})),$((()=>t.fullscreen),(e=>{r.value!==e&&s()})),$(r,(e=>{n("update:fullscreen",e),n("fullscreen",e)})),re((()=>{l=document.createElement("span")})),J((()=>{!0===t.fullscreen&&u()})),ee(c),Object.assign(o,{toggleFullscreen:s,setFullscreen:u,exitFullscreen:c}),{inFullscreen:r,toggleFullscreen:s}}const we=["top","right","bottom","left"],ke=["regular","flat","outline","push","unelevated"],Be=G({name:"QCarousel",props:{...me,...xe,..._e,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ke.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>we.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...qe,...Ce],setup(e,{slots:t}){const{proxy:{$q:n}}=z(),o=pe(e,n);let a,l=null;const{updatePanelsList:i,getPanelContent:r,panelDirectives:s,goToPanel:u,previousPanel:c,nextPanel:v,getEnabledPanels:d,panelIndex:f}=Pe(),{inFullscreen:g}=Se(),h=m((()=>!0!==g.value&&void 0!==e.height?{height:e.height}:{})),y=m((()=>!0===e.vertical?"vertical":"horizontal")),b=m((()=>e.navigationPosition||(!0===e.vertical?"right":"bottom"))),x=m((()=>`q-carousel q-panel-parent q-carousel--with${!0===e.padding?"":"out"}-padding`+(!0===g.value?" fullscreen":"")+(!0===o.value?" q-carousel--dark q-dark":"")+(!0===e.arrows?` q-carousel--arrows-${y.value}`:"")+(!0===e.navigation?` q-carousel--navigation-${b.value}`:""))),_=m((()=>{const t=[e.prevIcon||n.iconSet.carousel[!0===e.vertical?"up":"left"],e.nextIcon||n.iconSet.carousel[!0===e.vertical?"down":"right"]];return!1===e.vertical&&!0===n.lang.rtl?t.reverse():t})),q=m((()=>e.navigationIcon||n.iconSet.carousel.navigationIcon)),C=m((()=>e.navigationActiveIcon||q.value)),w=m((()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0})));function P(){const t=!0===le(e.autoplay)?Math.abs(e.autoplay):5e3;null!==l&&clearTimeout(l),l=setTimeout((()=>{l=null,t>=0?v():c()}),t)}function S(t,n){return p("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${t} q-carousel__navigation--${b.value}`+(void 0!==e.controlColor?` text-${e.controlColor}`:"")},[p("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},d().map(n))])}return $((()=>e.modelValue),(()=>{e.autoplay&&P()})),$((()=>e.autoplay),(e=>{e?P():null!==l&&(clearTimeout(l),l=null)})),J((()=>{e.autoplay&&P()})),ee((()=>{null!==l&&clearTimeout(l)})),()=>(a=i(t),p("div",{class:x.value,style:h.value},[ce("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,(()=>s.value))].concat(function(){const n=[];if(!0===e.navigation){const e=void 0!==t["navigation-icon"]?t["navigation-icon"]:e=>p(j,{key:"nav"+e.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${!0===e.active?"":"in"}active`,...e.btnProps,onClick:e.onClick}),o=a-1;n.push(S("buttons",((t,n)=>{const a=t.props.name,l=f.value===n;return e({index:n,maxIndex:o,name:a,active:l,btnProps:{icon:!0===l?C.value:q.value,size:"sm",...w.value},onClick:()=>{u(a)}})})))}else if(!0===e.thumbnails){const t=void 0!==e.controlColor?` text-${e.controlColor}`:"";n.push(S("thumbnails",(n=>{const o=n.props;return p("img",{key:"tmb#"+o.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${o.name===e.modelValue?"":"in"}active`+t,src:o.imgSrc||o["img-src"],onClick:()=>{u(o.name)}})})))}return!0===e.arrows&&f.value>=0&&((!0===e.infinite||f.value>0)&&n.push(p("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${y.value} absolute flex flex-center`},[p(j,{icon:_.value[0],...w.value,onClick:c})])),(!0===e.infinite||f.value<a-1)&&n.push(p("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${y.value} absolute flex flex-center`},[p(j,{icon:_.value[1],...w.value,onClick:v})]))),ve(t.control,n)}())))}});export{Be as Q,Ae as a};
